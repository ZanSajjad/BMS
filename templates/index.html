<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Management System</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<h1 class="text-center text-white py-5">Book Management System</h1>

<div class="container">
    <div class="text-end pb-4">
        <a href="/upload" class="btn btn-success px-5 py-2 fw-bold">UPLOAD BOOK</a>
    </div>

    {% if books %}
    <div class="row">
        {% for book in books %}
        <div class="col-md-4 my-3">
            <div class="card shadow-lg" style="width: 24rem;">
                {% if book.cover_img %}
                <img class="card-img-top" style="height: 200px" src="{{ url_for('uploads', path=book.cover_img.replace('static/uploads/', '')) }}" alt="Book Cover">
                {% else %}
                <img class="card-img-top" style="height: 200px" src="/static/default_cover.jpg" alt="Default Book Cover">
                {% endif %}

                <div class="card-body">
                    <h5 class="card-title py-2">{{ book.title }}</h5>
                    <div class="d-flex justify-content-between">
                        <p class="card-text"><strong>Author:</strong> {{ book.author }}</p>
                        <p class="card-text"><stronkg>Genre:</stronkg> {{ book.genre }}</p>
                    </div>
                    <p class="card-text"><strong>Published Year:</strong> {{ book.year }}</p>
                    <p class="card-text"><strong>Price:</strong> $ {{ "%.2f"|format(book.price) }}</p>
                    <div class="d-flex justify-content-between">
                        <a href="/update/{{ book.id }}" class="btn btn-primary fw-bold">Update</a>
                        <a href="/delete/{{ book.id }}" class="btn btn-danger fw-bold">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <h1 class="text-center text-danger">No Book Found</h1>
    {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
